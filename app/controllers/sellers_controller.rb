class SellersController < ApplicationController
    
    #TODO: Checking product_id generated by the seller or not
    def start_bid
        product_id = params[:products_under_bid][:product_id]
        minimum_bidding_price = params[:products_under_bid][:minimum_bidding_price]
        now = params[:products_under_bid][:now]
        
        if !now
            bid_start_date = nil
            bid_start_time = nil
        else
            bid_start_date = params[:products_under_bid][:bid_start_date]
            bid_start_time = params[:products_under_bid][:bid_start_time]
        end
        
        bid_end_date = params[:products_under_bid][:bid_end_date]
        bid_end_time = params[:products_under_bid][:bid_end_time]
        
        #puts product_id, minimum_bidding_price, bid_start_date, bid_start_time, bid_end_date, bid_end_time

        has_bid_started = ProductsUnderBid.start_bid?(product_id, minimum_bidding_price, bid_start_date, bid_start_time, bid_end_date, bid_end_time)
        if has_bid_started
            puts "Bidding is on!!"
        end
    end
    
    def stop_bid
        product_bid_id = params[:products_under_bid][:product_bid_id]
        puts product_bid_id

        has_bid_stopped = ProductsUnderBid.stop_bid?(product_bid_id)
        if has_bid_stopped
          puts "Bid is over"
        end
    end
end
